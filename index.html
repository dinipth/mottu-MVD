<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kerala Road Transport Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <style>
    body {
      background: #f8f9fa;
    }
    .quiz-card {
      max-width: 700px;
      margin: auto;
      margin-top: 40px;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
    }
    .option {
      margin: 8px 0;
      padding: 12px;
      border: 1px solid #ced4da;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }
    .option:hover {
      background: #e9ecef;
      transform: scale(1.02);
    }
    .disabled {
      pointer-events: none;
      opacity: 0.6;
    }
    .progress {
      height: 25px;
      border-radius: 12px;
      overflow: hidden;
      background: #e9ecef;
      position: relative;
    }
    .progress-bar {
      font-weight: 500;
    }
    /* Avatar positioning */
    .avatar-container {
      position: relative;
      width: 100%;
      height: 80px;
      margin-bottom: -30px; /* bring it closer to bar */
    }
    #avatar {
      position: absolute;
      bottom: 0;
      left: 0;
      max-width: 60px;
      width: 12%;
      height: auto;
      transition: left 0.8s ease; /* smooth movement */
      z-index: 10; /* ensure avatar is above progress bar */
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="quiz-card bg-white">
      <h3 id="progress" class="text-muted mb-3"></h3>
      <h2 id="question" class="mb-4"></h2>
      <div id="options" class="mb-4"></div>

      <!-- Avatar on progress bar -->
      <div class="avatar-container">
        <img src="mottu.png" id="avatar" alt="Avatar">
      </div>

      <div class="progress">
        <div id="progressBar" class="progress-bar bg-success" style="width: 0%">0%</div>
      </div>
    </div>
  </div>

  <script>
    const allQuestions = [
  { question: "What is the maximum speed limit for cars in city roads in Kerala?", options: ["40 km/h", "50 km/h", "60 km/h", "70 km/h"], answer: "50 km/h" },
  { question: "What is the maximum speed limit on national highways for cars in Kerala?", options: ["60 km/h", "80 km/h", "90 km/h", "100 km/h"], answer: "90 km/h" },
  { question: "Which side of the road should vehicles drive in India?", options: ["Left", "Right", "Middle", "Any side"], answer: "Left" },
  { question: "What does a red traffic signal mean?", options: ["Go", "Slow down", "Stop", "Turn"], answer: "Stop" },
  { question: "What does a green traffic signal mean?", options: ["Stop", "Wait", "Go", "Caution"], answer: "Go" },
  { question: "What does a yellow traffic signal mean?", options: ["Speed up", "Stop immediately", "Get ready", "Ignore"], answer: "Get ready" },
  { question: "Which document is mandatory to drive a vehicle?", options: ["Ration Card", "Driving License", "Aadhar Card", "Voter ID"], answer: "Driving License" },
  { question: "Which document proves vehicle ownership?", options: ["RC Book", "Insurance", "License", "Pollution Certificate"], answer: "RC Book" },
  { question: "Which certificate ensures your vehicle meets emission standards?", options: ["RC", "Pollution Certificate", "Fitness Certificate", "Insurance"], answer: "Pollution Certificate" },
  { question: "Which insurance is mandatory for all vehicles?", options: ["Life Insurance", "Third-party Insurance", "Travel Insurance", "Health Insurance"], answer: "Third-party Insurance" },
  { question: "What should you do at a zebra crossing?", options: ["Honk", "Stop for pedestrians", "Speed up", "Ignore"], answer: "Stop for pedestrians" },
  { question: "What does a 'No Parking' sign indicate?", options: ["Parking allowed for 10 min", "Do not park here", "Park only two-wheelers", "Park only cars"], answer: "Do not park here" },
  { question: "Helmet is mandatory for which riders?", options: ["Two-wheeler riders only", "Pillion riders only", "Both rider and pillion", "None"], answer: "Both rider and pillion" },
  { question: "Seat belt is mandatory for?", options: ["Driver only", "Front passenger only", "Both driver and front passenger", "All passengers"], answer: "Both driver and front passenger" },
  { question: "Mobile phone usage while driving is?", options: ["Allowed", "Allowed only for GPS", "Prohibited", "Allowed with loudspeaker"], answer: "Prohibited" },
  { question: "Minimum age to obtain a two-wheeler license (gearless) in India?", options: ["14 years", "16 years", "18 years", "21 years"], answer: "16 years" },
  { question: "Minimum age to obtain a license for cars in India?", options: ["16 years", "17 years", "18 years", "21 years"], answer: "18 years" },
  { question: "What does a triangular traffic sign indicate?", options: ["Warning", "Mandatory", "Informative", "Speed"], answer: "Warning" },
  { question: "What does a circular traffic sign with red border indicate?", options: ["Mandatory action", "Warning", "Prohibition/Restriction", "Information"], answer: "Prohibition/Restriction" },
  { question: "What does a blue circular traffic sign indicate?", options: ["Warning", "Mandatory instruction", "Restriction", "Stop"], answer: "Mandatory instruction" },
  { question: "When an ambulance comes with siren, what should you do?", options: ["Stop immediately", "Give way", "Ignore", "Race with it"], answer: "Give way" },
  { question: "Drunk driving is punishable under which Act?", options: ["Traffic Act", "Motor Vehicles Act", "Criminal Law", "Insurance Act"], answer: "Motor Vehicles Act" },
  { question: "What is the punishment for drunk driving in Kerala?", options: ["₹500 fine", "₹2000 fine", "₹10000 fine and/or imprisonment", "Warning only"], answer: "₹10000 fine and/or imprisonment" },
  { question: "Yellow lines in the middle of the road indicate?", options: ["Overtaking allowed", "No overtaking", "Parking area", "Pedestrian zone"], answer: "No overtaking" },
  { question: "The stopping distance of a vehicle depends mainly on?", options: ["Driver age", "Vehicle speed", "Road color", "Horn"], answer: "Vehicle speed" },
  { question: "Overtaking should be done from?", options: ["Left side", "Right side", "Any side", "Middle"], answer: "Right side" },
  { question: "In foggy conditions, which light should be used?", options: ["High beam", "Low beam", "Hazard lights", "No lights"], answer: "Low beam" },
  { question: "What does a broken white line on the road mean?", options: ["No crossing", "Lane changing allowed", "Stop line", "Parking line"], answer: "Lane changing allowed" },
  { question: "What does a continuous white line mean?", options: ["Cross any time", "No crossing allowed", "Parking only", "Speed bump"], answer: "No crossing allowed" },
  { question: "What is the meaning of a flashing red signal?", options: ["Go", "Proceed with caution", "Stop", "Overtake"], answer: "Stop" },
  { question: "What is the meaning of a flashing yellow signal?", options: ["Stop", "Go", "Proceed with caution", "Turn left"], answer: "Proceed with caution" },
  { question: "Who has the right of way at a roundabout?", options: ["Entering vehicles", "Vehicles inside the roundabout", "Two-wheelers only", "Buses only"], answer: "Vehicles inside the roundabout" },
  { question: "What is the punishment for driving without a license in Kerala?", options: ["₹500 fine", "₹5000 fine and/or imprisonment", "Warning only", "Vehicle seized"], answer: "₹5000 fine and/or imprisonment" },
  { question: "What is the punishment for riding without a helmet?", options: ["₹100 fine", "₹500 fine", "₹1000 fine", "Only warning"], answer: "₹500 fine" },
  { question: "What is the punishment for not wearing seat belts?", options: ["₹100", "₹500", "₹1000", "₹2000"], answer: "₹1000" },
  { question: "What should a driver do before overtaking?", options: ["Blow horn continuously", "Check mirror and give signal", "Speed up suddenly", "Follow bus"], answer: "Check mirror and give signal" },
  { question: "When should you renew your driving license?", options: ["Every 2 years", "Every 5 years", "Every 10 or 20 years depending on age", "Never"], answer: "Every 10 or 20 years depending on age" },
  { question: "Which vehicles should stop at unmanned railway crossings?", options: ["Only buses", "Only trucks", "All vehicles", "Only two-wheelers"], answer: "All vehicles" },
  { question: "What is the minimum insurance required to drive a vehicle?", options: ["Life insurance", "Third party insurance", "Comprehensive insurance", "None"], answer: "Third party insurance" },
  { question: "In case of tyre burst while driving, what should you do?", options: ["Brake hard immediately", "Hold steering firmly and slow down gradually", "Turn suddenly", "Accelerate"], answer: "Hold steering firmly and slow down gradually" },
  { question: "Parking on curves is?", options: ["Allowed", "Not allowed", "Allowed at night only", "Allowed for two-wheelers"], answer: "Not allowed" },
  { question: "Using high beam in city areas is?", options: ["Allowed", "Not allowed", "Allowed only for cars", "Compulsory"], answer: "Not allowed" },
  { question: "At a 'STOP' sign, what should you do?", options: ["Slow down", "Stop completely", "Check and continue", "Ignore"], answer: "Stop completely" },
  { question: "Sounding horn in silent zones (near hospitals, schools) is?", options: ["Allowed", "Prohibited", "Mandatory", "Allowed at night"], answer: "Prohibited" },
  { question: "Which is responsible for issuing driving licenses in Kerala?", options: ["RTO", "Police", "Court", "Insurance"], answer: "RTO" },
  { question: "How often should private vehicles undergo fitness test after 15 years?", options: ["Every 2 years", "Every 5 years", "Every year", "Never"], answer: "Every year" },
  { question: "Overloading of vehicles is?", options: ["Allowed", "Illegal", "Allowed with permit", "Temporary"], answer: "Illegal" },
  { question: "Driving in wrong direction on one-way road is?", options: ["Allowed", "Prohibited", "Allowed at night", "Optional"], answer: "Prohibited" },
  { question: "Which lane should slow-moving vehicles use?", options: ["Right lane", "Middle lane", "Left lane", "Any lane"], answer: "Left lane" },
  { question: "When should hazard lights be used?", options: ["While overtaking", "While reversing", "In breakdown or emergency", "Always at night"], answer: "In breakdown or emergency" }
];

    function getRandomQuestions(arr, num) {
      return arr.sort(() => 0.5 - Math.random()).slice(0, num);
    }

    const quiz = getRandomQuestions(allQuestions, 10);
    let currentQ = 0;
    let correctCount = 0;

    function updateProgressBar() {
      let progressPercent = (correctCount / quiz.length) * 100;
      $("#progressBar").css("width", progressPercent + "%").text(Math.round(progressPercent) + "%");
      // Move avatar across
      $("#avatar").css("left", `calc(${progressPercent}% - 30px)`); 
      // subtract 30px so avatar's center matches progress
    }

    function loadQuestion() {
      $("#options").empty();
      $("#progress").text(`Question ${currentQ + 1} of ${quiz.length}`);
      $("#question").text(quiz[currentQ].question);

      quiz[currentQ].options.forEach(opt => {
        $("#options").append(`<div class="option">${opt}</div>`);
      });

      $(".option").on("click", function () {
        $(".option").addClass("disabled");
        let selected = $(this).text();

        if (selected === quiz[currentQ].answer) {
          correctCount++;
          updateProgressBar();
        }

        setTimeout(() => {
          currentQ++;
          if (currentQ < quiz.length) {
            loadQuestion();
          } else {
            $(".quiz-card").html(
              `<h2 class="text-center text-success">🎉 Quiz Finished!</h2>
               <p class="text-center">You answered <b>${correctCount}</b> out of <b>${quiz.length}</b> correctly.</p>
               <div class="text-center">
                 <button id="retryBtn" class="btn btn-lg btn-success mt-3">🔄 Try Again</button>
               </div>`
            );
            $("#retryBtn").on("click", function() {
              location.reload();
            });
          }
        }, 800);
      });
    }

    loadQuestion();
  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


